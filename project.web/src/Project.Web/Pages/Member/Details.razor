@page "/members/detail/{Id:guid}"
@inject MemberService MemberService
@inject NavigationManager Navigation

@code {
    [Parameter]
    public Guid Id { get; set; }
    private MemberDto member;
    private string error;

    protected override async Task OnInitializedAsync()
    {
        try
        {
            member = await MemberService.GetByIdAsync(Id);
            if (member == null)
            {
                error = "Member not found.";
            }
        }
        catch (Exception ex)
        {
            error = ex.Message;
        }
    }
}

<h3>Member Details</h3>
@if (!string.IsNullOrEmpty(error))
{
    <div class="alert alert-danger">@error</div>
}
else if (member == null)
{
    <p><em>Loading...</em></p>
}
else
{
    <dl class="row">
        <dt class="col-sm-2">Id</dt>
        <dd class="col-sm-10">@member.Id</dd>
        <dt class="col-sm-2">UserId</dt>
        <dd class="col-sm-10">@member.UserId</dd>
        <dt class="col-sm-2">ProjectId</dt>
        <dd class="col-sm-10">@member.ProjectId</dd>
        <dt class="col-sm-2">Status</dt>
        <dd class="col-sm-10">@member.Status</dd>
        <dt class="col-sm-2">Created At</dt>
        <dd class="col-sm-10">@member.CreatedAt</dd>
        <dt class="col-sm-2">Updated At</dt>
        <dd class="col-sm-10">@member.UpdatedAt</dd>
    </dl>
    <a class="btn btn-secondary" href="/members/project/@member.ProjectId">Back to List</a>
}

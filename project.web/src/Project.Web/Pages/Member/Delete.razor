@page "/members/delete/{Id:guid}"

@inject MemberService MemberService
@inject NavigationManager Navigation

@code {
    [Parameter]
    public Guid Id { get; set; }
    private string message;
    private string alertClass;
    private bool deleted;

    protected override async Task OnInitializedAsync()
    {
        try
        {
            await MemberService.DeleteAsync(Id);
            message = "Member deleted successfully.";
            alertClass = "alert alert-success";
            deleted = true;
        }
        catch (Exception ex)
        {
            message = $"Error deleting member: {ex.Message}";
            alertClass = "alert alert-danger";
        }
    }
}

<h3>Delete Member</h3>
@if (!string.IsNullOrEmpty(message))
{
    <div class="alert @alertClass mb-3">@message</div>
}
@if (deleted)
{
    <a class="btn btn-secondary" href="/members">Back to List</a>
}
